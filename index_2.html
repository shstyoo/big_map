<!DOCTYPE html>
<html>
  <head>
    <title>Custom Markers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
      <p style="display: none;" id="#fuckingugly">ALMA PUBLIC SCHOOLS,2,2,1,43.7337728,-80.50573419999999
ANN ARBOR PUBLIC SCHOOLS,2,2,1,42.282271,-83.7411631
AU GRES-SIMS SCHOOL DISTRICT,3,2,2,44.0459565,-83.69613369999999
AVONDALE SCHOOL DISTRICT,3,1,1,33.43489539999999,-112.3512016
BATTLE CREEK PUBLIC SCHOOLS,2,2,1,42.3212625,-85.1797692
BEAVERTON RURAL SCHOOLS,2,1,1,43.98850119999999,-84.2278796
BERRIEN SPRINGS PUBLIC SCHOOLS,3,1,1,41.9458989,-86.3429087
BIG RAPIDS PUBLIC SCHOOLS,2,3,2,43.7215868,-85.49941919999999
BIRCH RUN AREA SCHOOL DISTRICT,3,3,2,43.2595806,-83.8260884
BRIDGE ACADEMY,2,2,1,41.184048,-73.1842439
CARO COMMUNITY SCHOOLS,2,1,1,43.4911591,-83.4106833
CHELSEA SCHOOL DISTRICT,4,1,1,42.31378489999999,-84.0086462
CHESANING UNION SCHOOLS,3,3,1,43.1980494,-84.1224036
CHIPPEWA HILLS SCHOOL DISTRICT,3,1,1,43.663642,-85.1514176
CHIPPEWA VALLEY SCHOOLS,3,1,1,42.6366424,-82.9394002
CLARE-GLADWIN REGIONAL EDUCATION SERVICE DISTRICT,3,1,1,43.9632912,-84.7645855
COLEMAN COMMUNITY SCHOOL DISTRICT,1,2,1,43.7544556,-84.5777549
COOPERSVILLE AREA PUBLIC SCHOOL DISTRICT,2,1,1,43.0658069,-85.9232676
DANSVILLE SCHOOLS,3,1,1,42.5524196,-84.3075222
DETROIT PUBLIC SCHOOLS COMMUNITY DISTRICT,1,3,1,42.3694742,-83.0773899
DEWITT PUBLIC SCHOOLS,2,1,1,42.82483800000001,-84.58133529999999
FARMINGTON PUBLIC SCHOOL DISTRICT,3,2,1,42.4957859,-83.357567
FERNDALE PUBLIC SCHOOLS,2,2,2,42.4590458,-83.1488186
FOREST HILLS PUBLIC SCHOOLS,3,1,1,42.9506646,-85.49941919999999
FOWLERVILLE COMMUNITY SCHOOLS,1,1,1,42.670821,-84.06810899999999
GLADWIN COMMUNITY SCHOOLS,1,2,1,43.9839099,-84.49141039999999
GOBLES PUBLIC SCHOOL DISTRICT,3,1,1,42.3651707,-85.8811444
EAST GRAND RAPIDS PUBLIC SCHOOLS,1,1,1,42.9416075,-85.5968091
GRAND RAPIDS PUBLIC SCHOOLS,3,1,3,42.9570081,-85.6640365
GROSSE POINTE PUBLIC SCHOOLS,1,2,1,42.4387693,-82.89636039999999
HAGAR TOWNSHIP S/D #6,1,3,1,42.173944,-86.38819
HAMILTON COMMUNITY SCHOOLS,2,1,1,42.6830541,-86.01875869999999
HAMTRAMCK PUBLIC SCHOOLS,1,2,1,42.4027267,-83.05798039999999
HANOVER-HORTON SCHOOLS,1,1,1,42.1145455,-84.5200377
HOMER COMMUNITY SCHOOLS,2,2,1,42.1417666,-84.81002459999999
HOWELL PUBLIC SCHOOLS,2,2,3,42.6146186,-83.95176839999999
HUDSONVILLE PUBLIC SCHOOL DISTRICT,3,1,1,42.8695792,-85.87677959999999
INGHAM INTERMEDIATE SCHOOL DISTRICT,3,1,1,42.597567,-84.447552
KALAMAZOO PUBLIC SCHOOL DISTRICT,1,1,1,42.2745571,-85.6010755
L'ANSE CREUSE PUBLIC SCHOOLS,2,3,1,42.570502,-82.84061
LAKEVIEW PUBLIC SCHOOLS (MACOMB),3,2,1,42.4944431,-82.8987389
LAKEWOOD PUBLIC SCHOOLS,1,2,1,42.8002001,-85.14793639999999
LANSING PUBLIC SCHOOL DISTRICT,1,2,1,42.7535308,-84.54318669999999
LINCOLN CONSOLIDATED SCHOOL DISTRICT,1,2,1,35.9553922,-94.422842
LIVONIA PUBLIC SCHOOLS,2,1,1,42.3783661,-83.357567
MACKINAC ISLAND PUBLIC SCHOOLS,3,1,1,45.8470421,-84.62343290000001
MASON COUNTY EASTERN SCHOOLS,1,3,1,43.9535594,-86.2166404
MATTAWAN CONSOLIDATED SCHOOL,2,2,1,42.2118955,-85.7905914
MECOSTA-OSCEOLA INTERMEDIATE SCHOOL DISTRICT,3,2,1,43.6937468,-85.46288779999999
MERRITT ACADEMY,3,3,1,38.863794,-77.262731
OLD REDFORD ACADEMY,3,2,2,42.4154174,-83.25963229999999
ONEKAMA CONSOLIDATED SCHOOLS,2,2,2,44.3646739,-86.20194579999999
OXFORD COMMUNITY SCHOOLS,3,1,1,42.825176,-83.264911
PITTSFORD AREA SCHOOLS,2,1,1,41.8631253,-84.4714984
PLAINWELL COMMUNITY SCHOOLS,3,1,1,42.437677,-85.65057379999999
PLYMOUTH-CANTON COMMUNITY SCHOOLS,4,3,1,42.3696014,-83.4723993
PORT HURON AREA SCHOOL DISTRICT,4,1,1,43.0020305,-82.4510208
SAGINAW INTERMEDIATE SCHOOL DISTRICT,3,1,1,43.463241,-83.9673042
SAGINAW TOWNSHIP COMMUNITY SCHOOLS,2,2,1,43.4530016,-84.0273168
SAULT STE. MARIE AREA SCHOOLS,1,2,1,46.4767407,-84.33823129999999
ST. CHARLES COMMUNITY SCHOOLS,4,1,1,43.3158791,-84.16461629999999
ST. JOHNS PUBLIC SCHOOLS,2,2,1,42.9913509,-84.56629099999999
ST. JOSEPH COUNTY INTERMEDIATE SCHOOL DISTRICT,3,1,1,41.890662,-85.505147
STURGIS PUBLIC SCHOOLS,2,1,1,41.8016468,-85.41964530000001
SUTTONS BAY PUBLIC SCHOOLS,2,1,1,44.97230829999999,-85.65428229999999
SWAN VALLEY SCHOOL DISTRICT,1,2,1,43.3885035,-84.0801613
TROY SCHOOL DISTRICT,2,3,2,42.5912063,-83.15417959999999
UNIVERSITY PREPARATORY SCIENCE AND MATH (PSAD),3,1,2,42.3371178,-83.0205019
UTICA COMMUNITY SCHOOLS,3,2,1,42.6315186,-83.01465259999999
VICKSBURG COMMUNITY SCHOOLS,1,3,1,42.1170123,-85.53046429999999
VOYAGEUR ACADEMY,3,1,1,42.3323235,-83.1202167
WARREN CONSOLIDATED SCHOOLS,3,1,1,42.526184,-83.0468775
WAYLAND UNION SCHOOLS,2,2,2,42.6747108,-85.636341</p>
    <button style="position: absolute; z-index: 10000; margin-top: 50px; margin-left: 15px;" id="zoom-out">Zoom Out</button>
    <div id="map"></div>
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"></script>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 7,
          center: new google.maps.LatLng(44.3148, -85.6024),
          mapTypeId: 'roadmap'
        });

        // var iconBase = 'http://maps.google.com/mapfiles/kml/paddle/';
        var iconBase = 'markers/'
        var icons = {
            integration_no: {
                icon: iconBase + 'blue_MarkerA.png'
            },
            integration_integrate: {
                icon: iconBase + 'blue_MarkerB.png'
            },
            integration_contact: {
                icon: iconBase + 'blue_MarkerC.png'
            },
            integration_prog: {
                icon: iconBase + 'blue_MarkerD.png'
            },
            workbooks1: {
                icon: iconBase + 'purple_MarkerA.png'
            },
            workbooks2: {
                icon: iconBase + 'purple_MarkerB.png'
            },
            workbooks3: {
                icon: iconBase + 'purple_MarkerC.png'
            },
            pd1: {
                icon: iconBase + 'yellow_MarkerA.png'
            },
            pd2: {
                icon: iconBase + 'yellow_MarkerA.png'
            },
            pd3: {
                icon: iconBase + 'yellow_MarkerA.png'
            }
        };

        var infowindow = new google.maps.InfoWindow({
            // Nothing? I guess
        });

        function addMarker(feature) {
            var marker = new google.maps.Marker({
                position: feature.position,
                icon: icons[feature.type].icon,
                map: map
            });
            marker.addListener('click', function(){
                infowindow.setContent(feature.content);
                infowindow.open(map, marker);
                map.setZoom(20);
                map.setCenter(marker.getPosition());
            });
        }

        $("#zoom-out").click('on', function(){
            map.setZoom(7),
            // map.setCenter(31.0902, -95.7129);
            map.setCenter(new google.maps.LatLng(44.3148, -85.6024));
        });

        // Ignore the mess just use super_big_table
        var fuckingugly = document.getElementById("#fuckingugly").innerHTML;
        var big_table = fuckingugly.split("\n");
        $uglystring = big_table;

        var datlen = $uglystring.length;
        var super_big_table = []
        for(var i=0;i<datlen;i++){
            var temp = [];
            var sub_str = big_table[i].split(",");
            console.log(sub_str);
            if(sub_str.length == 4){
                // Do nothing
            } else {
                temp.push(sub_str[0]);
                temp.push(sub_str[1]);
                temp.push(sub_str[2]);
                temp.push(sub_str[3]);
                temp.push(sub_str[4]);
                temp.push(sub_str[5]);
                super_big_table.push(temp);
            }
        }
        console.log(super_big_table);
        var datalen = super_big_table.length;

        var features = [];
        for(var i=0;i<datalen;i++){
            /******* Integration *******/
            // No Contact
            var contentString = '<div id="content">' +
                                    '<div id="school_name">' +
                                        '<h1 id="school_text">' + super_big_table[i][0] + '</h1>' +
                                    '</div>' +
                                '</div>';
            var temp_dict = {
                position: new google.maps.LatLng(super_big_table[i][4], super_big_table[i][5]),
                content: contentString,
                type: 'integration_no'
            }
            features.push(temp_dict);
        }

        for (var i = 0, feature; feature = features[i]; i++) {
          addMarker(feature);
        }
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQgBmECcYPsVFlY-8wTdJIse3dg3bg350&callback=initMap">
    </script>
  </body>
</html>
